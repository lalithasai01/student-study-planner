#include <stdio.h>

#define MAX 10
#define DAYS 7

int main() {
    int n, baseHours;
    char subject[MAX][20];
    int priority[MAX], difficulty[MAX], daysLeft[MAX];
    int weight[MAX], hours[MAX];
    int i, totalWeight = 0;

    printf("Enter number of subjects: ");
    scanf("%d", &n);

    printf("Enter study hours per weekday: ");
    scanf("%d", &baseHours);

    for (i = 0; i < n; i++) {
        printf("\nSubject name: ");
        scanf("%s", subject[i]);

        printf("Priority (1-3): ");
        scanf("%d", &priority[i]);

        printf("Difficulty (1-3): ");
        scanf("%d", &difficulty[i]);

        printf("Days left for exam: ");
        scanf("%d", &daysLeft[i]);

        int urgency = 10 / daysLeft[i];
        weight[i] = (priority[i] * 2) + (difficulty[i] * 2) + urgency;
        totalWeight += weight[i];
    }

    /* Allocate weekday hours */
    for (i = 0; i < n; i++) {
        hours[i] = (weight[i] * baseHours) / totalWeight;
        if (hours[i] < 1)
            hours[i] = 1;
    }

    int revision = baseHours * 20 / 100;

    printf("\n===== OPTIMIZED WEEKDAY PLAN =====\n");
    for (i = 0; i < n; i++) {
        printf("%s : %d hrs/day\n", subject[i], hours[i]);
    }
    printf("Revision : %d hrs/day\n", revision);

    /* Weekend boost */
    printf("\n===== WEEKEND PLAN (BOOSTED) =====\n");
    for (i = 0; i < n; i++) {
        printf("%s : %d hrs/day\n", subject[i], hours[i] + 1);
    }
    printf("Revision : %d hrs/day\n", revision + 1);

    printf("\nStudy plan generated using optimized scheduling logic.\n");
    return 0;
}
